<script type="text/javascript">
	$('#zmjcs').multiselect();
	 function end(){
        var mydate = new Date();
        var str = "" + mydate.getFullYear() + "-";
        str += (mydate.getMonth()+1) + "-";
        console.log(str);
        str += mydate.getDate();
        console.log(str);
        return str;
        }
        $("#endDate").val(end());
         function start(){
        var mydate = new Date();
        var str = "" + mydate.getFullYear() + "-";
        str += (mydate.getMonth()) + "-";
        str += mydate.getDate();
        return str;
         } 
        $("#startDate").val(start());
 	mOption = {
            tooltip: {
                trigger: 'axis'
            },
            legend: {
                data:['工作效率']
            },
            toolbox: {
                show: true,
                feature: {
                     magicType: {show: true, type: ['line', 'bar']},
                    restore: {show: true},
                    saveAsImage: {show: true}
                }
            },
            xAxis:  {
                type: 'category',
                boundaryGap: false,
                data: ['06-28','07-01','07-04','07-07','07-13','07-16','07-19','07-22','07-25','07-28']
            },
            yAxis: {
                type: 'value',
                axisLabel: {
                    formatter: '{value} '
                }
            },
            series: [
                {
                    name:'工作效率',
                    type:'line',
                    data:[11, 11, 15, 13, 12, 13, 10,13,15,9],
                    markPoint: {
                        data: [
                            {type: 'max', name: '最大值'},
                            {type: 'min', name: '最小值'}
                        ]
                    },
                    markLine: {
                        data: [
                            {type: 'average', name: '平均值'}
                        ]
                    }
                }
            ]
        };
        var dOption = {
        title : {
            text: 'ECharts实例',
            subtext: '饼图（Pie Chart）',
            x:'center'
        },
        tooltip : {
            trigger: 'item',
            formatter: "{a} <br/>{b} : {c} ({d}%)"
        },
        legend: {
            orient : 'vertical',
            x : 'left',
            data:['part1','part2','part3','part4']
        },
        toolbox: {
            show : true,
            feature : {
                //mark : {show: true},
                //dataView : {show: true, readOnly: false},
                restore : {show: true},
                saveAsImage : {show: true}
            }
        },
        calculable : false,
        series : [
            {
                name:'饼图实例',
                type:'pie',
                radius : '55%',
                center: ['50%', '60%'],
                data:[
                    {value:100, name:'part1'},
                    {value:200, name:'part2'},
                    {value:300, name:'part3'},
                    {value:400, name:'part4'}]
            }
        ]
    };
        require(
                [
                    'echarts',
                    'echarts/chart/line', // 按需加载所需图表，如需动态类型切换功能，别忘了同时加载相应图表
                    'echarts/chart/bar',
                    'echarts/chart/pie', 
                ],
                function (ec) {
                    var gzxlChar1 = ec.init(document.getElementById("gzxl-char1"));
                    gzxlChar1.setOption(mOption);
                }
        );
     function ShowDiv(page, tag){
        var i = 1;
        var el;
        while (el = document.getElementById(tag + i)) {
            if (i == page)
                el.style.display = "block";
            else
                el.style.display = "none";
            i++;
        }
        require(
                [
                    'echarts',
                    'echarts/chart/line', // 按需加载所需图表，如需动态类型切换功能，别忘了同时加载相应图表
                    'echarts/chart/bar',
                    'echarts/chart/pie', 
                ],
                 function (ec) {
                    var gzxlChar3 = ec.init(document.getElementById("gzxl-char3"));
                    gzxlChar3.setOption(dOption);
                    var gzxlChar5 = ec.init(document.getElementById("gzxl-char5"));
                    gzxlChar5.setOption(dOption);
                    }
                );
    }
	function sureBtn(){
		var a=$('#zmjcs').val();
//                var smjs=$("#smj").val();
//                console.log(smjs);
//                for(var n = 0; n < smjs.length; n++){
//                    console.log(smjs.length);
//                }
		console.log(a);
		if(a==null){
			console.log("shi null")
			$("#allChars").empty();
				var xmylHtml='<div class="row">'+
                                '<div class="col-md-12">'+
                                   '<div class="box">'+
                                        '<div class="box-header with-border">'+
                                            '<span id="cltj_title_1"><h3 class="box-title">工作效率</h3></span>'+
                                            '<div class="box-tools pull-right">'+
                                                '<button class="btn btn-box-tool" data-widget="collapse" data-toggle="tooltip" title="Collapse"><i class="icon-minus"></i></button>'+
                                            '</div>'+
                                        '</div>'+
                                        '<div class="box-body">'+
                                            '<div id="gzxl-char2" class="col-md-12 col-xs-12" style="height:350px;width:98%;padding:1px"  align="left">'+

                                            '</div>'+
                                        '</div>'+
                                    '</div>'+
                                '</div>'+
                            '</div>';
                        $("#allChars").append(xmylHtml);
     require(
                [
                    'echarts',
                    'echarts/chart/line', // 按需加载所需图表，如需动态类型切换功能，别忘了同时加载相应图表
                    'echarts/chart/bar',
                    'echarts/chart/pie', 
                ],
                function (ec) {
                    var gzxlChar2 = ec.init(document.getElementById("gzxl-char2"));
                    gzxlChar2.setOption(mOption);
                }
        );
		}else{
                        var c=a.length;	
                        $("#allChars").empty();
                        var xmylHtml='<div class="row">'+
                            '<div class="col-md-6">'+
                               '<div class="box">'+
                                    '<div class="box-header with-border">'+
                                        '<span id="cltj_title_1"><h3 class="box-title">工作效率</h3></span>'+
                                        '<div class="box-tools pull-right">'+
                                            '<button class="btn btn-box-tool" data-widget="collapse" data-toggle="tooltip" title="Collapse"><i class="icon-minus"></i></button>'+
                                        '</div>'+
                                    '</div>'+
                                    '<div class="box-body">'+
                                        '<div id="gzxl-char4" class="col-md-12 col-xs-12" style="height:350px;width:98%;padding:1px"  align="left">'+
                                        '</div>'+
                                    '</div>'+
                                '</div>'+
                            '</div>';
        for(var i = 0;i <c;i++){
            var name = "";
            var id = "";
          if(a[i]==1){
              name = "吸棉压力";
              id = "xmyl-char1"
          }else if(a[i]==2){
              name = "打手转速";
              id = "dszs-char1"
          }else if(a[i]==3){
              name = "运转率";
              id = "yzl-char1"
          }else if(a[i]==4){
              name = "抓臂高度";
              id = "zbgd-char1"
          }else if(a[i]==5){
              name = "行走速度";
              id = "xzsd-char1"
          }else if(a[i]==6){
              name = "塔身高度";
              id = "tsgd-char1"
          }else if(a[i]==7){
              name = "其他";
              id = "qt-char1"
          }  
          xmylHtml += '<div class="col-md-6">'+
           '<div class="box">'+
                '<div class="box-header with-border">'+
                    '<span id="cltj_title_1"><h3 class="box-title">'+ name +'</h3></span>'+
                    '<div class="box-tools pull-right">'+
                        '<button class="btn btn-box-tool" data-widget="collapse" data-toggle="tooltip" title="Collapse"><i class="icon-minus"></i></button>'+
                    '</div>'+
                '</div>'+
                '<div class="box-body">'+
                    '<div id="'+ id +'" class="col-md-12 col-xs-12" style="height:350px;width:98%;padding:1px"  align="left">'+

                    '</div>'+
                '</div>'+
            '</div>'+
        '</div>';
        }
        xmylHtml +="</div>";
    $("#allChars").append(xmylHtml);
     require(
                [
                    'echarts',
                    'echarts/chart/line', // 按需加载所需图表，如需动态类型切换功能，别忘了同时加载相应图表
                    'echarts/chart/bar',
                    'echarts/chart/pie', 
                ],
                function (ec) {
                    var gzxlChar4 = ec.init(document.getElementById("gzxl-char4"));
                    gzxlChar4.setOption(mOption);
                    var c=a.length;
                    for(var i = 0;i < c;i++){
                        if(a[i]==1){
                            var xmylChar1 = ec.init(document.getElementById("xmyl-char1"));
                            xmylChar1.setOption(mOption);
                        }else if(a[i]==2){
                            var dszsChar1 = ec.init(document.getElementById("dszs-char1"));
                            dszsChar1.setOption(mOption);
                        }else if(a[i]==3){
                            var yzlChar1 = ec.init(document.getElementById("yzl-char1"));
                            yzlChar1.setOption(mOption);
                        }else if(a[i]==4){
                            var zbgdChar1 = ec.init(document.getElementById("zbgd-char1"));
                            zbgdChar1.setOption(mOption);
                        }else if(a[i]==5){
                            var xzsdChar1 = ec.init(document.getElementById("xzsd-char1"));
                            xzsdChar1.setOption(mOption);
                        }else if(a[i]==6){
                            var tsgdChar1 = ec.init(document.getElementById("tsgd-char1"));
                            tsgdChar1.setOption(mOption);
                        }else if(a[i]==7){
                            var qtChar1 = ec.init(document.getElementById("qt-char1"));
                            qtChar1.setOption(mOption);
                        }
                    }
                    
                }
            );			
        }
    }
    
</script>
<!-- Main content -->
<section class="content-header">
    <h1>
        梳棉机
        <small>Version 2.0</small>
    </h1>

    <ol class="breadcrumb">
        <li><a href="javascript:void(0)" onclick="click2url(1)"><i class="icon-home"></i> Home</a></li>
    </ol>
</section>
<section class="content" id="tcontent">
    <div class="row">
        <div class="from-group" role="toolbar">
            <div class="col-md-2">
                <select id="hmj" class="form-control " style="width: 70%" onchange="ShowDiv(parseInt(this.value), 'div');">
                    <option value="1" selected="">梳棉机1</option>
                    <option value="2">梳棉机2</option>
                    <option value="3">梳棉机3</option>
                    <option value="4">梳棉机4</option>
                    <option value="5">梳棉机5</option>
                    <option value="6">梳棉机6</option>
                </select>
            </div>
           <div class="col-md-2">
                <!--<label for="zmjcs" class="col-sm-4 control-label">参数选择</label>-->
                <select id="zmjcs" style="width: 180px;" multiple="multiple">
	            <option value="1">吸棉压力</option>
                    <option value="2">打手速度</option>
                    <option value="3">运转率</option>
                    <option value="4">抓臂高度</option>
                    <option value="5">行走速度</option>
                    <option value="6">塔身速度</option>
	            <option value="7">其他</option>
	        </select>                         
            </div>
         
               <div class="col-md-3">
                <label for="startDate" class="col-sm-5 control-label" style="margin-top: 6px;">开始日期</label>
                <div class="input-group date" >
                    <div class="input-group-addon">
                        <i class="icon-calendar"></i>
                    </div>
                    <input type="text"  id="startDate" data-provide="date-picker" class="form-control"  readonly="readonly"
                           onFocus="WdatePicker();">
                </div>

            </div>
            <div class="col-md-3">
                <label class="col-sm-5 control-label" style="margin-top:6px;">截止日期</label>
                <div class="input-group date">
                    <div class="input-group-addon">
                        <i class="icon-calendar"></i>
                    </div>
                    <input type="text"  id="endDate" data-provide="date-picker" class="form-control"  readonly="readonly"  onFocus="WdatePicker();"/>
                </div>
            </div><!-- /.col-lg-6 -->
            <div class="col-md-2">
                <button type="button" id="sureBtn" class="btn btn-default pull-left"  style="margin: 0px 15px;" onClick="sureBtn();">确定</button>
                <button type="button" class="btn btn-default pull-left" style="display: none" >导出</button>
            </div>
        </div>
            
          
        </div>
    
    <div id="allChars" style="margin-top: 20px;">
        <!--梳棉机1-->
        <div class="row" id="div1" style="display: block;">
            <div class="col-md-12">
               <div class="box">
                    <div class="box-header with-border">
                        <h3 class="box-title">工作效率</h3>
                        <div class="box-tools pull-right">
                            <button class="btn btn-box-tool" data-widget="collapse" data-toggle="tooltip" title="Collapse"><i class="icon-minus"></i></button>
                            <!--button class="btn btn-box-tool" data-widget="remove" data-toggle="tooltip" title="Remove"><i class="icon-times"></i></button-->
                        </div>
                    </div>
                    <div class="box-body">
                        <div id="gzxl-char1" class="col-md-12 col-xs-12" style="height:350px;width:98%;padding:1px"  align="left">

                        </div>
                    </div><!-- /.box-body -->
                </div><!-- /.box -->
            </div>
        </div>
        <!--梳棉机2-->
        <div class="row" id="div2" style="display: none;">
            <div class="col-md-12">
               <div class="box">
                    <div class="box-header with-border">
                        <h3 class="box-title">工作效率2</h3>
                        <div class="box-tools pull-right">
                            <button class="btn btn-box-tool" data-widget="collapse" data-toggle="tooltip" title="Collapse"><i class="icon-minus"></i></button>
                            <!--button class="btn btn-box-tool" data-widget="remove" data-toggle="tooltip" title="Remove"><i class="icon-times"></i></button-->
                        </div>
                    </div>
                    <div class="box-body">
                        <div id="gzxl-char3" class="col-md-12 col-xs-12" style="height:350px;width:98%;padding:1px"  align="left">

                        </div>
                    </div><!-- /.box-body -->
                </div><!-- /.box -->
            </div>
        </div>
        <!--梳棉机3-->
        <div class="row" id="div3" style="display: none;">
            <div class="col-md-12">
               <div class="box">
                    <div class="box-header with-border">
                        <h3 class="box-title">工作效率3</h3>
                        <div class="box-tools pull-right">
                            <button class="btn btn-box-tool" data-widget="collapse" data-toggle="tooltip" title="Collapse"><i class="icon-minus"></i></button>
                            <!--button class="btn btn-box-tool" data-widget="remove" data-toggle="tooltip" title="Remove"><i class="icon-times"></i></button-->
                        </div>
                    </div>
                    <div class="box-body">
                        <div id="gzxl-char5" class="col-md-12 col-xs-12" style="height:350px;width:98%;padding:1px"  align="left">

                        </div>
                    </div><!-- /.box-body -->
                </div><!-- /.box -->
            </div>
        </div>
    </div>
   
</section>